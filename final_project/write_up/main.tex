\documentclass[onecolumn, draftclsnofoot,10pt, compsoc]{IEEEtran}
\usepackage{graphicx}
\usepackage{caption}
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}
\usepackage{import}
\usepackage{amsmath}
\usepackage{url}
\usepackage{setspace}
\usepackage{adjustbox,lipsum}
\usepackage[colorinlistoftodos]{todonotes}
% for languages
\usepackage{listings}
\usepackage{color}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
%    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}
\lstset{style=mystyle}

\usepackage{geometry}
\geometry{textheight=9.5in, textwidth=7in}

\usepackage{pgfgantt}

% creates keywords for input and output in algorithm block
\algblock{Input}{EndInput}
\algnotext{EndInput}
\algblock{Output}{EndOutput}
\algnotext{EndOutput}
\newcommand{\Desc}[2]{\State \makebox[13em][l]{#1}#2}

% 1. Fill in these details
\def \GroupMemberOne{			Mazen Alotaibi  }

% 2. Uncomment the appropriate line below so that the document type works
\def \DocType{	Travelling Salesman Problem (TSP) }
			
\newcommand{\NameSigPair}[1]{\par
\makebox[2.75in][r]{#1} \hfil 	\makebox[3.25in]{\makebox[2.25in]{\hrulefill} \hfill		\makebox[.75in]{\hrulefill}}
\par\vspace{-12pt} \textit{\tiny\noindent
\makebox[2.75in]{} \hfil		\makebox[3.25in]{\makebox[2.25in][r]{Signature} \hfill	\makebox[.75in][r]{Date}}}}
% 3. If the document is not to be signed, uncomment the RENEWcommand below
\renewcommand{\NameSigPair}[1]{#1}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
\begin{titlepage}
    \pagenumbering{gobble}
    \begin{singlespace}
    	%\includegraphics[height=4cm]{coe_v_spot1}
        \hfill 
        % 4. If you have a logo, use this includegraphics command to put it on the coversheet.
        %\includegraphics[height=4cm]{CompanyLogo}   
        \par\vspace{.2in}
        \centering
        \scshape{
            \huge \DocType \par
            {\large\today}\par
            \vspace{.5in}
            \vfill
            \vspace{5pt}
            \vspace{5pt}
            {\Large
                \NameSigPair{\GroupMemberOne}\par
            }
            \vspace{20pt}
        }
        \begin{abstract}
        This is a final report for analysis of solving the travelling salesman problem using multiple algorithms and the analysis of those algorithms.
        \end{abstract}     
    \end{singlespace}
\end{titlepage}
\newpage
\pagenumbering{arabic}
\tableofcontents
% 7. uncomment this (if applicable). Consider adding a page break.
%\listoffigures
%\listoftables
\clearpage

% 8. now you write!
% TODO: ALL
\section{Algorithms that Solve TSP}
\subsection{Brute Force Search (Naive Algorithm)}
\subsubsection{Run-time Analysis}
$O(n!)$

\subsubsection{Pseudo-code}
\begin{algorithm}
\caption{Brute Force Search}
\label{alg:waypointAlgo}
\begin{algorithmic}[1]
\import{algos/}{1.tex}
\end{algorithmic}
\end{algorithm}

\subsubsection{Description}
This algorithm checks every vertices and every edges. Therefore, it is clear it will find the solution. The running time is $O(n!)$ because the starting vertex has $n-1$  edges to choose, next one has $n-2$  edges to choose, $...  n-1$  vertex has $1$ edge to choose. Therefore, by multiply every edges, Icould get the running time which is $(n-1)!$. Since it is clear $(n-1)! <  n!$, I can say the running time is $O(n!)$.I choose this algorithm because it is the basic way to think about how to solve this problem. This algorithm is easy to make, but it is really slow. Therefore, this algorithm makes us to realize how important the algorithm is. Better algorithm makes way more faster program.

\newpage
\subsection{Held-Karp Algorithm (Dynamic Algorithm)}
\subsubsection{Run-time Analysis}
$O(n^2 * 2^n)$
\subsubsection{Pseudo-code}
\begin{algorithm}
\caption{Brute Force Search}
\label{alg:waypointAlgo}
\begin{algorithmic}[1]
\import{algos/}{2.tex}
\end{algorithmic}
\end{algorithm}

\subsubsection{Description}
This algorithm use dynamic algorithm to solve the problem. It first gets the distance between two vertices and save it to array. It is $O(n)$ steps. The next part is to find the minimum distance with small set of vertices. The for loop, for $s$ from $2$ to $n-1$ and for all $S$  in $\{2, ..., n\}$, $|S| =  s$, is defining small set of vertices. The next for loop is the part that getting the minimum distance from the set of vertices. Each set has s  elements and it has to compare with s  different minimum candidates, it has $O(s^2)$ running time. The first two loop, which define the set S, has running time with $SUM_i=2 ^{n-1} (C(n-1,i))$ because there are $C(n-1, i)$ number of combination for defining set with $i$  elements, and since it is from $2$  to $n-1$, it makes $SUM_i=2 ^{n-1} (C(n-1,i)) *  n^2)$. Hence, it could be rewrite as $n^2 *  SUM_i=2 ^{n-1} (C(n-1,i)) <= n^2 *  2^{n-1} =  1â„2  *  n^2 *  2^n =  O(2^n *  n^2$). I choose this algorithm because I learned dynamic programming and this algorithm use that concepts. This algorithm saves data into $C(S, n)$ and use it to find minimum distance. By this skill, this algorithm can find real answer with way more faster than the brute force method. However, it is still slow.


\newpage
\subsection{K-Nearest Neighbor Algorithm (Approximation Algorithm)}
\subsubsection{Run-time Analysis}
$O(n^2)$
\subsubsection{Pseudo-code}
\import{algos/}{3.tex}

\subsubsection{Run-time Analysis}
This algorithm is greedy algorithm that finds the vertex with minimum weight and choose it. Therefore, the first vertex has to check $n-1$ edges and choose the minimum. Second one has to check n-2 edges and choose the minimum. The $n-1$ vertex choose $1$ edges. Hence, the running time is $SUM\ 1\ TO\ N-1\ = (N-1)(N-2)/2 = O(N^2)$. I choose this algorithm because I found that this is the fastest. This algorithm is greedy algorithm that choose only the nearest vertex from the start vertex, and keep finding the nearest vertex from the chosen one. Since it is just checking the nearest, there is possibility to find the wrong answer. However, I found that this algorithm finds reasonable path, which means not huge different than true answer, and the power of this algorithm is this is super fast. It is only $O(n^2)$. Therefore, this algorithm will be good choice when I need the result really quickly, and
it is ok to have small error. I used a nearest neighbor algorithm written in Java to get inspiration for my Python program,
found here: http://www.sanfoundry.com/java-program-implement-traveling-salesman-problem-using-nearest-neighbour-algorithm/. The program searches for the most optimal nearest neighbor route by using a brute-force wrapper for-loop to select each city as the starting point. The program is able to analyze each
city for the smaller list sizes, but for the larger ones it cannot process each city within 5 minutes, so that is why I have a section of code in the main section of the program to end the algorithm after 5 minutes. Each time the algorithm finds a new shorter route it is written to the output file, so this ensures that I am still able to have a valid result at the very beginning, well before the 5 minute time constraint is over.

\newpage
\subsection{Genetic Algorithm (Approximation Algorithm)}
\subsubsection{Run-time Analysis}
$O(T * n_0 * n^2)$, where $T$ is the number of outer iteration, $n_0$ is the initial size of the population, and $n$ is the number of cities.

\subsubsection{Pseudo-code}
\import{algos/}{4.tex}
\subsubsection{Description}
The genetic algorithm seems to solve different kind of problems pretty well, such as error detection, so I have thought to give it a try to solve the TSP. The implementation of the algorithm is extremely hard compared to KNN, so I need to refer to some online resource to build the algorithm on Python, the resource is found: https://towardsdatascience.com/evolution-of-a-salesman-a-complete-genetic-algorithm-tutorial-for-python-6fe5d2b3ca35. The algorithm starts with a population, a set of solutions, and every population another new population is generated to give better solutions, so as the depth of the population increases the algorithm should give better solutions in theory.

\newpage
\section{Testing}
In order to test that my program was actually producing valid results we used the supplied tsp-verifier.py program on each of my output routes. Each result was found to be valid.

It seems that the K-Nearest Neighbor (KNN) algorithm give better results in matter of approximation of path took and speed compared to Genetic Algorithm (GA) in all cases when time is the limitation. However, as the complexity of the graph increases and there isn't no time limits, the Genetic Algorithm can finish faster with higher approximation to the optimal path when the threshold to stop is set, compared to the KNN which takes almost 2 times longer on average to reach the same optimal path results.

My best results when testing where Test 1, 2, 4, and 5 when using KNN, and GA failed in most cases besides Test 6 and 7, which gave the same results as KNN at the same time.


Please view the next page to look into all of the results.

\newpage
\begin{table}[]
\begin{tabular}{lllll}
\cline{1-4}
\multicolumn{1}{|l|}{Example 1}    & \multicolumn{1}{l|}{Optimal path length} & \multicolumn{1}{l|}{Predicted path length} & \multicolumn{1}{l|}{Ratio} &  \\ \cline{1-4}
\multicolumn{1}{|l|}{KNN} & \multicolumn{1}{l|}{108159}                    & \multicolumn{1}{l|}{130921}                      & \multicolumn{1}{l|}{1.21}      &  \\ \cline{1-4}
\multicolumn{1}{|l|}{GA}  & \multicolumn{1}{l|}{108159}                    & \multicolumn{1}{l|}{337541}                      & \multicolumn{1}{l|}{3.12}      &  \\ \cline{1-4}
                          &                                          &                                            &                            & 
\end{tabular}
\end{table}
\begin{table}[]
\begin{tabular}{lllll}
\cline{1-4}
\multicolumn{1}{|l|}{Example 2}    & \multicolumn{1}{l|}{Optimal path length} & \multicolumn{1}{l|}{Predicted path length} & \multicolumn{1}{l|}{Ratio} &  \\ \cline{1-4}
\multicolumn{1}{|l|}{KNN} & \multicolumn{1}{l|}{2579}                    & \multicolumn{1}{l|}{2975}                      & \multicolumn{1}{l|}{1.15}      &  \\ \cline{1-4}
\multicolumn{1}{|l|}{GA}  & \multicolumn{1}{l|}{2579}                    & \multicolumn{1}{l|}{27639}                      & \multicolumn{1}{l|}{10.71}      &  \\ \cline{1-4}
                          &                                          &                                            &                            & 
\end{tabular}
\end{table}
\begin{table}[]
\begin{tabular}{lllll}
\cline{1-4}
\multicolumn{1}{|l|}{Example 3}    & \multicolumn{1}{l|}{Optimal path length} & \multicolumn{1}{l|}{Predicted path length} & \multicolumn{1}{l|}{Ratio} &  \\ \cline{1-4}
\multicolumn{1}{|l|}{KNN} & \multicolumn{1}{l|}{1573084}                    & \multicolumn{1}{l|}{1936941}                      & \multicolumn{1}{l|}{1.23}      &  \\ \cline{1-4}
\multicolumn{1}{|l|}{GA}  & \multicolumn{1}{l|}{1573084}                    & \multicolumn{1}{l|}{1934200}                      & \multicolumn{1}{l|}{1.22}      &  \\ \cline{1-4}
                          &                                          &                                            &                            & 
\end{tabular}
\end{table}
\begin{table}[]
\begin{tabular}{lllll}
\cline{1-3}
\multicolumn{1}{|l|}{Test 1}    & \multicolumn{1}{l|}{Predicted path length} & \multicolumn{1}{l|}{Time took} &  &  \\ \cline{1-3}
\multicolumn{1}{|l|}{KNN} & \multicolumn{1}{l|}{5911}                      & \multicolumn{1}{l|}{0.014127969741821289}          &  &  \\ \cline{1-3}
\multicolumn{1}{|l|}{GA}  & \multicolumn{1}{l|}{10488}                      & \multicolumn{1}{l|}{14.512681007385254}          &  &  \\ \cline{1-3}
                          &                                            &                                &  & 
\end{tabular}
\end{table}
\begin{table}[]
\begin{tabular}{lllll}
\cline{1-3}
\multicolumn{1}{|l|}{Test 2}    & \multicolumn{1}{l|}{Predicted path length} & \multicolumn{1}{l|}{Time took} &  &  \\ \cline{1-3}
\multicolumn{1}{|l|}{KNN} & \multicolumn{1}{l|}{8011}                      & \multicolumn{1}{l|}{0.11811113357543945}          &  &  \\ \cline{1-3}
\multicolumn{1}{|l|}{GA}  & \multicolumn{1}{l|}{32837}                      & \multicolumn{1}{l|}{18.30189299583435}          &  &  \\ \cline{1-3}
                          &                                            &                                &  & 
\end{tabular}
\end{table}
\begin{table}[]
\begin{tabular}{lllll}
\cline{1-3}
\multicolumn{1}{|l|}{Test 3:}    & \multicolumn{1}{l|}{Predicted path length} & \multicolumn{1}{l|}{Time took} &  &  \\ \cline{1-3}
\multicolumn{1}{|l|}{KNN} & \multicolumn{1}{l|}{14826}                      & \multicolumn{1}{l|}{1.3867180347442627}          &  &  \\ \cline{1-3}
\multicolumn{1}{|l|}{GA}  & \multicolumn{1}{l|}{103387}                      & \multicolumn{1}{l|}{34.44625997543335}          &  &  \\ \cline{1-3}
                          &                                            &                                &  & 
\end{tabular}
\end{table}
\begin{table}[]
\begin{tabular}{lllll}
\cline{1-3}
\multicolumn{1}{|l|}{Test 4:}    & \multicolumn{1}{l|}{Predicted path length} & \multicolumn{1}{l|}{Time took} &  &  \\ \cline{1-3}
\multicolumn{1}{|l|}{KNN} & \multicolumn{1}{l|}{19711}                      & \multicolumn{1}{l|}{12.897594213485718}          &  &  \\ \cline{1-3}
\multicolumn{1}{|l|}{GA}  & \multicolumn{1}{l|}{220727}                      & \multicolumn{1}{l|}{73.32604813575745}          &  &  \\ \cline{1-3}
                          &                                            &                                &  & 
\end{tabular}
\end{table}
\begin{table}[]
\begin{tabular}{lllll}
\cline{1-3}
\multicolumn{1}{|l|}{Test 5:}    & \multicolumn{1}{l|}{Predicted path length} & \multicolumn{1}{l|}{Time took} &  &  \\ \cline{1-3}
\multicolumn{1}{|l|}{KNN} & \multicolumn{1}{l|}{27128}                      & \multicolumn{1}{l|}{123.83275985717773}          &  &  \\ \cline{1-3}
\multicolumn{1}{|l|}{GA}  & \multicolumn{1}{l|}{465770}                      & \multicolumn{1}{l|}{200.42861986160278}          &  &  \\ \cline{1-3}
                          &                                            &                                &  & 
\end{tabular}
\end{table}
\begin{table}[]
\begin{tabular}{lllll}
\cline{1-3}
\multicolumn{1}{|l|}{Test 6:}    & \multicolumn{1}{l|}{Predicted path length} & \multicolumn{1}{l|}{Time took} &  &  \\ \cline{1-3}
\multicolumn{1}{|l|}{KNN} & \multicolumn{1}{l|}{39834}                      & \multicolumn{1}{l|}{299.0716700553894}          &  &  \\ \cline{1-3}
\multicolumn{1}{|l|}{GA}  & \multicolumn{1}{l|}{39834}                      & \multicolumn{1}{l|}{299.00313663482666}          &  &  \\ \cline{1-3}
                          &                                            &                                &  & 
\end{tabular}
\end{table}
\begin{table}[]
\begin{tabular}{lllll}
\cline{1-3}
\multicolumn{1}{|l|}{Test 7:}    & \multicolumn{1}{l|}{Predicted path length} & \multicolumn{1}{l|}{Time took} &  &  \\ \cline{1-3}
\multicolumn{1}{|l|}{KNN} & \multicolumn{1}{l|}{62110}                      & \multicolumn{1}{l|}{299.6045079231262}          &  &  \\ \cline{1-3}
\multicolumn{1}{|l|}{GA}  & \multicolumn{1}{l|}{62110}                      & \multicolumn{1}{l|}{299.00823521614075}          &  &  \\ \cline{1-3}
                          &                                            &                                &  & 
\end{tabular}
\end{table}

\end{document}